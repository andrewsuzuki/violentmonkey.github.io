{"version":3,"file":"component---src-templates-post-index-js-content-file-path-content-posts-inject-scripts-with-blob-urls-md-0c7e8eef22e98f312597.js","mappings":"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","sources":["webpack://violentmonkey.github.io/./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://violentmonkey.github.io/./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://violentmonkey.github.io/./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://violentmonkey.github.io/./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://violentmonkey.github.io/./node_modules/.pnpm/@mdx-js+react@2.3.0_react@18.2.0/node_modules/@mdx-js/react/lib/index.js","webpack://violentmonkey.github.io/./content/posts/inject-scripts-with-blob-urls.md","webpack://violentmonkey.github.io/./src/templates/post/index.js","webpack://violentmonkey.github.io/./src/common/scroller.js","webpack://violentmonkey.github.io/./src/components/head.js","webpack://violentmonkey.github.io/./src/common/sidebar.js","webpack://violentmonkey.github.io/./node_modules/.pnpm/unstated-next@1.1.0/node_modules/unstated-next/dist/unstated-next.mjs","webpack://violentmonkey.github.io/./src/components/scroll-indicator/index.js","webpack://violentmonkey.github.io/./src/components/header/index.js","webpack://violentmonkey.github.io/./src/components/footer/index.js","webpack://violentmonkey.github.io/./src/components/sidebar/index.js","webpack://violentmonkey.github.io/./src/components/discord.js","webpack://violentmonkey.github.io/./src/components/layout.js","webpack://violentmonkey.github.io/./src/components/toc/index.js","webpack://violentmonkey.github.io/./src/assets/vm.png"],"sourcesContent":["export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import _defineProperty from \"/home/runner/work/violentmonkey.github.io/violentmonkey.github.io/node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/**\n * @typedef {import('react').ReactNode} ReactNode\n * @typedef {import('mdx/types.js').MDXComponents} Components\n *\n * @typedef Props\n *   Configuration.\n * @property {Components | MergeComponents | null | undefined} [components]\n *   Mapping of names for JSX components to React components.\n * @property {boolean | null | undefined} [disableParentContext=false]\n *   Turn off outer component context.\n * @property {ReactNode | null | undefined} [children]\n *   Children.\n *\n * @callback MergeComponents\n *   Custom merge function.\n * @param {Components} currentComponents\n *   Current components from the context.\n * @returns {Components}\n *   Merged components.\n */\n\nimport React from 'react';\n\n/**\n * @type {import('react').Context<Components>}\n * @deprecated\n *   This export is marked as a legacy feature.\n *   That means it’s no longer recommended for use as it might be removed\n *   in a future major release.\n *\n *   Please use `useMDXComponents` to get context based components and\n *   `MDXProvider` to set context based components instead.\n */\nexport const MDXContext = React.createContext({});\n\n/**\n * @param {import('react').ComponentType<any>} Component\n * @deprecated\n *   This export is marked as a legacy feature.\n *   That means it’s no longer recommended for use as it might be removed\n *   in a future major release.\n *\n *   Please use `useMDXComponents` to get context based components instead.\n */\nexport function withMDXComponents(Component) {\n  return boundMDXComponent;\n\n  /**\n   * @param {Record<string, unknown> & {components?: Components | null | undefined}} props\n   * @returns {JSX.Element}\n   */\n  function boundMDXComponent(props) {\n    const allComponents = useMDXComponents(props.components);\n    return React.createElement(Component, _objectSpread(_objectSpread({}, props), {}, {\n      allComponents\n    }));\n  }\n}\n\n/**\n * Get current components from the MDX Context.\n *\n * @param {Components | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that takes the current\n *   components and filters/merges/changes them.\n * @returns {Components}\n *   Current components.\n */\nexport function useMDXComponents(components) {\n  const contextComponents = React.useContext(MDXContext);\n\n  // Memoize to avoid unnecessary top-level context changes\n  return React.useMemo(() => {\n    // Custom merge via a function prop\n    if (typeof components === 'function') {\n      return components(contextComponents);\n    }\n    return _objectSpread(_objectSpread({}, contextComponents), components);\n  }, [contextComponents, components]);\n}\n\n/** @type {Components} */\nconst emptyObject = {};\n\n/**\n * Provider for MDX context\n *\n * @param {Props} props\n * @returns {JSX.Element}\n */\nexport function MDXProvider({\n  components,\n  children,\n  disableParentContext\n}) {\n  /** @type {Components} */\n  let allComponents;\n  if (disableParentContext) {\n    allComponents = typeof components === 'function' ? components({}) : components || emptyObject;\n  } else {\n    allComponents = useMDXComponents(components);\n  }\n  return React.createElement(MDXContext.Provider, {\n    value: allComponents\n  }, children);\n}","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    code: \"code\",\n    a: \"a\",\n    h3: \"h3\",\n    span: \"span\",\n    pre: \"pre\",\n    ol: \"ol\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"Since Violentmonkey v2.8.15, scripts are injected with Blob URLs instead of \", React.createElement(_components.code, null, \"textContent\"), \" in v2.8.13-. Thanks to \", React.createElement(_components.a, {\n    href: \"https://github.com/evilpie\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"evilpie\"), \", see \", React.createElement(_components.a, {\n    href: \"https://github.com/violentmonkey/violentmonkey/pull/246\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"#246\"), \".\"), \"\\n\", React.createElement(_components.h3, {\n    id: \"before\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#before\",\n    \"aria-label\": \"before permalink\",\n    className: \"anchor before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Before\"), \"\\n\", React.createElement(_components.p, null, \"In earlier versions, scripts are injected like this:\"), \"\\n\", React.createElement(_components.pre, {\n    className: \"language-javascript\"\n  }, React.createElement(_components.code, {\n    className: \"language-javascript code-highlight\"\n  }, React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"const\"), \" s \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"createElement\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(_components.span, {\n    className: \"token string\"\n  }, \"'script'\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"textContent\"), \" \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" script\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"body\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"appendChild\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"body\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"removeChild\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"))), \"\\n\", React.createElement(_components.p, null, \"This way works well on Chrome but does not work on Firefox 57- when page has a limit on inline script by CSP. See \", React.createElement(_components.a, {\n    href: \"https://bugzilla.mozilla.org/show_bug.cgi?id=1267027\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"bugzilla\"), \".\"), \"\\n\", React.createElement(_components.h3, {\n    id: \"now\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#now\",\n    \"aria-label\": \"now permalink\",\n    className: \"anchor before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Now\"), \"\\n\", React.createElement(_components.p, null, \"Since Firefox 58, we have a workaround by injecting scripts like this:\"), \"\\n\", React.createElement(_components.pre, {\n    className: \"language-javascript\"\n  }, React.createElement(_components.code, {\n    className: \"language-javascript code-highlight\"\n  }, React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"const\"), \" b \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"new\"), \" \", React.createElement(_components.span, {\n    className: \"token class-name\"\n  }, \"Blob\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"[\"), \"script\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"]\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \",\"), \" \", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"{\"), \" \", React.createElement(_components.span, {\n    className: \"token literal-property property\"\n  }, \"type\"), React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \":\"), \" \", React.createElement(_components.span, {\n    className: \"token string\"\n  }, \"'text/javascript'\"), \" \", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"const\"), \" u \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(_components.span, {\n    className: \"token constant\"\n  }, \"URL\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"createObjectURL\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"b\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"const\"), \" s \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"createElement\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(_components.span, {\n    className: \"token string\"\n  }, \"'script'\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"src\"), \" \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" u\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"body\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"appendChild\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"body\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"removeChild\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token constant\"\n  }, \"URL\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"revokeObjectURL\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"u\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"))), \"\\n\", React.createElement(_components.p, null, \"Using Blob URLs instead of \", React.createElement(_components.code, null, \"textContent\"), \", scripts can be injected to pages on Firefox 58+ too.\"), \"\\n\", React.createElement(_components.h3, {\n    id: \"problem\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#problem\",\n    \"aria-label\": \"problem permalink\",\n    className: \"anchor before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Problem\"), \"\\n\", React.createElement(_components.p, null, \"Then we encountered a problem (v2.8.14, \", React.createElement(_components.a, {\n    href: \"https://github.com/violentmonkey/violentmonkey/issues/249\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"#249\"), \"): sometimes the scripts are not injected at all. After debugging for a while, I figured out what was happening.\"), \"\\n\", React.createElement(_components.p, null, \"First let's take a look at the injection procedure:\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"inject an initializer to context of page script\"), \"\\n\", React.createElement(_components.li, null, \"load userscripts from content script\"), \"\\n\", React.createElement(_components.li, null, \"post userscripts to the initializer through custom events\"), \"\\n\", React.createElement(_components.li, null, \"execute userscripts\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"The problem is, when the userscripts are loaded and posted to the initializer, the initializer may be not ready yet. As a result, the posted userscripts are discarded.\"), \"\\n\", React.createElement(_components.p, null, \"But why won't this happen before?\"), \"\\n\", React.createElement(_components.p, null, \"Because the \", React.createElement(_components.code, null, \"textContent\"), \" way is synchronous while the \", React.createElement(_components.code, null, \"src\"), \" way is asynchronous.\"), \"\\n\", React.createElement(_components.p, null, \"Using the \", React.createElement(_components.code, null, \"textContent\"), \" way, the initializer is initialized synchronously when injected. So the initializer is always ready when the userscripts are loaded.\"), \"\\n\", React.createElement(_components.p, null, \"But when using a Blob URL, the injection becomes asynchronous. Because it has to fetch the real content first. So the initializer may be not ready yet when the userscripts are laoded. Consequently, no userscript is injected.\"), \"\\n\", React.createElement(_components.p, null, \"Here is a demonstration:\"), \"\\n\", React.createElement(_components.pre, {\n    className: \"language-javascript\"\n  }, React.createElement(_components.code, {\n    className: \"language-javascript code-highlight\"\n  }, React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  \", React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"const\"), \" s \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"createElement\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(_components.span, {\n    className: \"token string\"\n  }, \"'script'\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"textContent\"), \" \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(_components.span, {\n    className: \"token string\"\n  }, \"'console.log(1)'\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  \", React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"body\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"appendChild\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  \", React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"body\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"removeChild\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"}\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  \", React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"const\"), \" s \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"createElement\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(_components.span, {\n    className: \"token string\"\n  }, \"'script'\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  \", React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"const\"), \" b \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"new\"), \" \", React.createElement(_components.span, {\n    className: \"token class-name\"\n  }, \"Blob\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"[\"), React.createElement(_components.span, {\n    className: \"token string\"\n  }, \"'console.log(2)'\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"]\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \",\"), \" \", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"{\"), \" \", React.createElement(_components.span, {\n    className: \"token literal-property property\"\n  }, \"type\"), React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \":\"), \" \", React.createElement(_components.span, {\n    className: \"token string\"\n  }, \"'text/javascript'\"), \" \", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  \", React.createElement(_components.span, {\n    className: \"token keyword\"\n  }, \"const\"), \" u \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(_components.span, {\n    className: \"token constant\"\n  }, \"URL\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"createObjectURL\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"b\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"src\"), \" \", React.createElement(_components.span, {\n    className: \"token operator\"\n  }, \"=\"), \" u\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  \", React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"body\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"appendChild\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  \", React.createElement(_components.span, {\n    className: \"token dom variable\"\n  }, \"document\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token property-access\"\n  }, \"body\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"removeChild\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"s\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"  \", React.createElement(_components.span, {\n    className: \"token constant\"\n  }, \"URL\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"revokeObjectURL\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), \"u\", React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"}\"), \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, React.createElement(_components.span, {\n    className: \"token console class-name\"\n  }, \"console\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(_components.span, {\n    className: \"token method function property-access\"\n  }, \"log\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(_components.span, {\n    className: \"token number\"\n  }, \"3\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(_components.span, {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\"))), \"\\n\", React.createElement(_components.p, null, \"By running the code above in a browser (e.g. Chrome), we got output as below:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"code-highlight\"\n  }, React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"1\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"3\\n\"), React.createElement(_components.span, {\n    className: \"code-line\"\n  }, \"2\\n\"))), \"\\n\", React.createElement(_components.h3, {\n    id: \"conclusion\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#conclusion\",\n    \"aria-label\": \"conclusion permalink\",\n    className: \"anchor before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Conclusion\"), \"\\n\", React.createElement(_components.p, null, \"So we just need to ensure that the initializer is ready when posting userscripts to it.\"), \"\\n\", React.createElement(_components.p, null, \"Finally, it works on Chrome any and Firefox v58+, even on pages with CSP limitations.\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/runner/work/violentmonkey.github.io/violentmonkey.github.io/content/posts/inject-scripts-with-blob-urls.md\";\nimport React, {useRef} from 'react';\nimport {graphql} from 'gatsby';\nimport TOC from '@/components/toc';\nimport Layout from '@/components/layout';\nexport {Head} from '@/components/head';\nfunction PostPage({location, data, children}) {\n  const {mdx: post} = data;\n  const articleRef = useRef();\n  const {pathname} = location;\n  const isHome = pathname === '/';\n  return React.createElement(Layout, {\n    location: location,\n    sidebar: post.frontmatter.sidebar\n  }, React.createElement(\"main\", {\n    className: \"flex-1 has-toc\"\n  }, !isHome && React.createElement(\"section\", {\n    className: \"mb-10 pt-1\"\n  }, React.createElement(\"h1\", null, post.frontmatter.title)), React.createElement(\"section\", {\n    className: \"items-start with-toc\"\n  }, !isHome && React.createElement(TOC, {\n    data: post.tableOfContents,\n    articleRef: articleRef\n  }), React.createElement(\"article\", {\n    className: \"flex-1 min-w-0 mr-4\",\n    ref: articleRef\n  }, children)), React.createElement(\"section\", null, React.createElement(\"hr\"), post.fields.slug.startsWith('posts/') && React.createElement(\"div\", {\n    className: \"mb-6\"\n  }, React.createElement(\"em\", null, \"Published at \", post.frontmatter.date)))));\n}\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PostPage, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport const query = graphql`\n  query ($id: String) {\n    mdx(id: { eq: $id }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        date(formatString: \"MMMM D, YYYY\")\n        sidebar {\n          match\n          order\n        }\n      }\n      tableOfContents(maxDepth: 3)\n    }\n  }\n`;\n","let supportsPassive = false;\ntry {\n  const opts = Object.defineProperty({}, 'passive', {\n    /* eslint-disable-next-line getter-return */\n    get() {\n      supportsPassive = true;\n    },\n  });\n  window.addEventListener('testPassive', null, opts);\n  window.removeEventListener('testPassive', null, opts);\n} catch {\n  // ignore\n}\nconst options = supportsPassive ? { passive: true } : false;\n\nexport default function onScroll(listener) {\n  window.addEventListener('scroll', listener, options);\n  return () => window.removeEventListener('scroll', listener, options);\n}\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport icon from '@/assets/vm.png';\n\nexport function Head() {\n  const {\n    site: {\n      siteMetadata: { title, subtitle },\n    },\n  } = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n          subtitle\n        }\n      }\n    }\n  `);\n  return (\n    <>\n      <title>{title}</title>\n      <meta name=\"description\" content={subtitle} />\n      <meta\n        name=\"google-site-verification\"\n        content=\"OKMYmcVuMfm9H_UjfNXPzRb2c0QoBtmZ7v1KwHNXnRQ\"\n      />\n      <link rel=\"shortcut icon\" type=\"image/png\" href={icon} />\n    </>\n  );\n}\n","import { useState, useMemo } from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport { createContainer } from 'unstated-next';\n\nfunction useSidebar(data) {\n  const {\n    allMdx: { nodes },\n  } = useStaticQuery(graphql`\n    query {\n      allMdx {\n        nodes {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            sidebar {\n              match\n              order\n            }\n          }\n        }\n      }\n    }\n  `);\n  const matchedNodes = useMemo(\n    () =>\n      data?.match &&\n      nodes\n        ?.filter((node) => node.frontmatter.sidebar?.match === data.match)\n        .sort(\n          (a, b) => a.frontmatter.sidebar.order - b.frontmatter.sidebar.order\n        ),\n    [data, nodes]\n  );\n  const [show, setShow] = useState(false);\n  const toggle = () => {\n    setShow(!show);\n  };\n  return {\n    matchedNodes,\n    show,\n    setShow,\n    toggle,\n  };\n}\n\nexport const SidebarContainer = createContainer(useSidebar);\n","import React from 'react';\nfunction createContainer(useHook) {\n  var Context = React.createContext(null);\n  function Provider(props) {\n    var value = useHook(props.initialState);\n    return React.createElement(Context.Provider, {\n      value: value\n    }, props.children);\n  }\n  function useContainer() {\n    var value = React.useContext(Context);\n    if (value === null) {\n      throw new Error(\"Component must be wrapped with <Container.Provider>\");\n    }\n    return value;\n  }\n  return {\n    Provider: Provider,\n    useContainer: useContainer\n  };\n}\nfunction useContainer(container) {\n  return container.useContainer();\n}\nexport { createContainer, useContainer };","import React, { useEffect, useRef } from 'react';\nimport onScroll from '@/common/scroller';\n\nexport default function ScrollIndicator() {\n  const ref = useRef();\n  useEffect(() => {\n    const listener = () => {\n      const docEl = document.documentElement;\n      const scrollTop = document.body.scrollTop || docEl.scrollTop;\n      const height = docEl.scrollHeight - docEl.clientHeight;\n      const scrolled = scrollTop / height;\n      const scaleX = Math.min(1, scrolled);\n      ref.current.style.transform = `scaleX(${scaleX})`;\n    };\n    return onScroll(listener);\n  });\n  return (\n    <div className=\"w-full h-px\">\n      <div\n        className=\"w-full h-full origin-left bg-yellow-500 scale-x-0\"\n        ref={ref}\n      />\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { StaticQuery, Link, graphql } from 'gatsby';\nimport { SidebarContainer } from '@/common/sidebar';\nimport ScrollIndicator from '@/components/scroll-indicator';\n\nfunction Banner() {\n  const [banner, setBanner] = useState(null);\n  const handleClose = () => {\n    setBanner(null);\n  };\n  if (!banner) return null;\n  return (\n    <div className=\"bg-orange-200 px-4 text-sm flex\" data-ga-category=\"banner\">\n      <div className=\"flex-1\" dangerouslySetInnerHTML={{ __html: banner }} />\n      <div\n        onClick={handleClose}\n        className=\"cursor-pointer text-gray-600\"\n        data-ga-label=\"hide\"\n      >\n        ✗\n      </div>\n    </div>\n  );\n}\n\nfunction Header(props) {\n  const { matchedNodes, toggle } = SidebarContainer.useContainer();\n  const { data } = props;\n  const redirections = data.allMdx.nodes.reduce((prev, item) => {\n    item.frontmatter.redirect_from.forEach(fromUrl => {\n      prev[fromUrl] = `/${item.fields.slug}`;\n    });\n    return prev;\n  }, {});\n  const onToggle = (e) => {\n    e.stopPropagation();\n    toggle();\n  };\n  return (\n    <header className=\"sticky top-0 left-0 right-0 bg-white z-10\">\n      <nav>\n        <Link to=\"/\" className=\"nav-icon sm:hidden\">\n          <svg viewBox=\"0 0 24 24\">\n            <path d=\"M12 0l-12 12h4v12h5v-8h6v8h5v-12h4z\" />\n          </svg>\n        </Link>\n        {matchedNodes && (\n          <a className=\"nav-icon lg:hidden\" onClick={onToggle}>\n            <svg viewBox=\"0 0 24 24\">\n              <path d=\"M0 2h24v4h-24zM0 10h24v4h-24zM0 18h24v4h-24z\" />\n            </svg>\n          </a>\n        )}\n        <Link to=\"/\" className=\"brand hidden sm:block\">\n          Violentmonkey\n        </Link>\n        <span className=\"flex-1\" />\n        <div className=\"overflow-auto min-w-0 flex whitespace-no-wrap\">\n          {data.site.siteMetadata.menu.map((item) => (\n            <Link\n              className=\"nav-item\"\n              key={item.path}\n              to={redirections[item.path] || item.path}\n              activeClassName=\"active\"\n              partiallyActive\n            >\n              {item.label}\n            </Link>\n          ))}\n        </div>\n      </nav>\n      <ScrollIndicator />\n    </header>\n  );\n}\n\nexport default (props) => (\n  <StaticQuery\n    query={graphql`\n      query {\n        site {\n          siteMetadata {\n            menu {\n              label\n              path\n            }\n          }\n        }\n        allMdx(filter: { frontmatter: { redirect_from: { ne: null } } }) {\n          nodes {\n            fields {\n              slug\n            }\n            frontmatter {\n              redirect_from\n            }\n          }\n        }\n      }\n    `}\n    render={(data) => (\n      <>\n        <Banner />\n        <Header {...props} data={data} />\n      </>\n    )}\n  />\n);\n","import React from 'react';\nimport { Link, StaticQuery, graphql } from 'gatsby';\n\nfunction Footer(props) {\n  const {\n    data: {\n      site: {\n        siteMetadata: { copyright, footer },\n      },\n    },\n  } = props;\n  return (\n    <footer className=\"flex mt-10 p-6 pb-16 border-t border-gray-400 lg:pb-6\">\n      <div>Violentmonkey {copyright}</div>\n      {footer.map((item) => (\n        <Link className=\"mx-2\" key={item.path} to={item.path}>\n          {item.label}\n        </Link>\n      ))}\n    </footer>\n  );\n}\n\nexport default (props) => (\n  <StaticQuery\n    query={graphql`\n      query {\n        site {\n          siteMetadata {\n            copyright\n            footer {\n              label\n              path\n            }\n          }\n        }\n      }\n    `}\n    render={(data) => <Footer {...props} data={data} />}\n  />\n);\n","import React, { useEffect } from 'react';\nimport { Link } from 'gatsby';\nimport { SidebarContainer } from '@/common/sidebar';\n\nexport default function Sidebar() {\n  const { matchedNodes, setShow } = SidebarContainer.useContainer();\n  useEffect(() => {\n    if (matchedNodes) {\n      const onClick = () => {\n        setShow(false);\n      };\n      document.addEventListener('click', onClick);\n      return () => document.removeEventListener('click', onClick);\n    }\n  }, [matchedNodes, setShow]);\n  if (!matchedNodes) return null;\n  return (\n    <aside className=\"sidebar\">\n      <ul>\n        {matchedNodes.map((node, i) => (\n          <li key={i}>\n            <Link to={`/${node.fields.slug}`} activeClassName=\"active\">\n              {node.frontmatter.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </aside>\n  );\n}\n","import React, { useState } from 'react';\n\nexport default function DiscordButton() {\n  const [open, setOpen] = useState(false);\n  return open ? (\n    <div className=\"fixed bottom-0 right-0 w-full h-full flex flex-col items-end z-10 max-w-[320px] max-h-[450px]\">\n      <div className=\"p-2 cursor-pointer\" onClick={() => setOpen(false)}>\n        <svg viewBox=\"0 0 12 12\" className=\"w-4 h-4\">\n          <path\n            d=\"M0 1L11 12L12 11L1 0zM11 0L0 11L1 12L12 1z\"\n            stroke=\"none\"\n            fill=\"currentColor\"\n          />\n        </svg>\n      </div>\n      <iframe\n        className=\"flex-1 w-full\"\n        src=\"https://discord.com/widget?id=995346102003965952&theme=dark\"\n        sandbox=\"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts\"\n      />\n    </div>\n  ) : (\n    <a\n      className=\"fixed bottom-0 right-8 px-8 py-2 bg-blue-500 hover:bg-blue-600 text-white hover:text-white rounded-t-lg uppercase cursor-pointer\"\n      onClick={() => setOpen(true)}\n    >\n      Open Chat\n    </a>\n  );\n}\n","import React from 'react';\nimport '@unocss/reset/tailwind.css';\nimport '@/common/style.css';\nimport { SidebarContainer } from '@/common/sidebar';\nimport Header from './header';\nimport Footer from './footer';\nimport Sidebar from './sidebar';\nimport DiscordButton from './discord';\n\nfunction Layout(props) {\n  const {\n    location: { pathname },\n    children,\n  } = props;\n  const { show } = SidebarContainer.useContainer();\n  if (pathname === '/offline-plugin-app-shell-fallback/') return null;\n  return (\n    <>\n      <Header />\n      <div className={`relative flex z-0 ${show ? 'sidebar-open' : ''}`}>\n        <Sidebar />\n        {children}\n      </div>\n      <Footer />\n      <DiscordButton />\n    </>\n  );\n}\n\nexport default ({ sidebar, ...rest }) => (\n  <SidebarContainer.Provider initialState={sidebar}>\n    <Layout {...rest} />\n  </SidebarContainer.Provider>\n);\n","import React, { useRef, useEffect } from 'react';\nimport { Link } from 'gatsby';\nimport onScroll from '@/common/scroller';\n\nfunction TOCList({ items }) {\n  return (\n    <ul>\n      {items.map((item, i) => {\n        const j = item.url.indexOf('#');\n        const url = j < 0 ? '#' : item.url.slice(j);\n        return (\n          <li key={i}>\n            <Link to={url}>{item.title}</Link>\n            {item.items && <TOCList items={item.items} />}\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default function TOC(props) {\n  const { className, data, articleRef } = props;\n  const ref = useRef();\n  const refActive = useRef();\n  useEffect(() => {\n    if (!data) return;\n    const list = Array.from(ref.current.querySelectorAll('a'));\n    list.forEach((a) => {\n      const id = decodeURIComponent(a.href.split('#')[1] || '');\n      a.dataset.id = id;\n      // `tableOfContents` from MDX does not support inline markups,\n      // as a result the text content may be truncated.\n      if (articleRef.current) {\n        const h = articleRef.current.querySelector(`#${id}`);\n        if (h) a.textContent = h.textContent.trim();\n      }\n    });\n    const listener = () => {\n      if (!articleRef.current || !ref.current) return;\n      const { scrollTop } = document.body;\n      const headings = list\n        .map((a) => {\n          const { id } = a.dataset;\n          const el = articleRef.current.querySelector(`#${id}`);\n          return (\n            el && {\n              id,\n              a,\n              offset: el.getBoundingClientRect().top - scrollTop - 70,\n            }\n          );\n        })\n        .filter(Boolean);\n      const { a } =\n        headings.find((_, i) => {\n          const next = headings[i + 1];\n          return next && next.offset > 0;\n        }) || {};\n      if (refActive.current) refActive.current.className = '';\n      if (a) a.className = 'active';\n      refActive.current = a;\n    };\n    return onScroll(listener);\n  });\n\n  return (\n    <section className={`toc ${className || ''}`} ref={ref}>\n      {data?.items && (\n        <>\n          <h2>Table of Contents</h2>\n          <TOCList items={data.items} />\n        </>\n      )}\n    </section>\n  );\n}\n","export default __webpack_public_path__ + \"static/vm-6437e4e5a400c6eff1c23ead4d549b0a.png\";"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_toPropertyKey","arg","key","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_defineProperty","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","MDXContext","useMDXComponents","components","contextComponents","_createMdxContent","props","_components","assign","p","code","a","h3","span","pre","ol","li","_provideComponents","React","href","rel","id","style","position","className","dangerouslySetInnerHTML","__html","wrapper","MDXLayout","PostPage","location","data","children","mdx","post","articleRef","useRef","pathname","isHome","Layout","sidebar","frontmatter","title","TOC","tableOfContents","ref","fields","slug","startsWith","date","GatsbyMDXWrapper","GATSBY_COMPILED_MDX","supportsPassive","opts","get","window","addEventListener","removeEventListener","_unused","options","passive","onScroll","listener","Head","site","siteMetadata","subtitle","useStaticQuery","name","content","type","icon","SidebarContainer","useHook","allMdx","nodes","matchedNodes","useMemo","match","node","_node$frontmatter$sid","sort","b","order","show","setShow","useState","toggle","Context","Provider","initialState","useContainer","Error","ScrollIndicator","useEffect","docEl","document","documentElement","scrolled","body","scrollTop","scrollHeight","clientHeight","scaleX","Math","min","current","transform","Banner","banner","setBanner","onClick","handleClose","Header","redirections","reduce","prev","item","redirect_from","fromUrl","Link","to","viewBox","d","e","stopPropagation","menu","map","path","activeClassName","partiallyActive","label","StaticQuery","query","render","_extends","Footer","copyright","footer","Sidebar","DiscordButton","open","setOpen","stroke","fill","src","sandbox","_ref","rest","_objectWithoutPropertiesLoose","_excluded","TOCList","items","j","url","indexOf","slice","refActive","list","Array","from","querySelectorAll","decodeURIComponent","split","dataset","h","querySelector","textContent","trim","headings","el","offset","getBoundingClientRect","top","Boolean","find","_","next"],"sourceRoot":""}